<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Output files · LEAP-Macro</title><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VFCCCS3YR4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-VFCCCS3YR4');
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">LEAP-Macro</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><span class="tocitem">Getting started</span><ul><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../quickstart/">Quick start</a></li><li><a class="tocitem" href="../leap-exercise/">LEAP exercise</a></li></ul></li><li><span class="tocitem">Model overview</span><ul><li><a class="tocitem" href="../leap-macro-link/">LEAP-Macro link</a></li><li><a class="tocitem" href="../theoretical-background/">Theoretical background</a></li></ul></li><li><span class="tocitem">Using LEAP-Macro</span><ul><li><a class="tocitem" href="../config/">Configuration file</a></li><li><a class="tocitem" href="../sut/">Supply-use table</a></li><li><a class="tocitem" href="../params/">External parameter files</a></li><li><a class="tocitem" href="../running-macro/">Running the Macro model</a></li><li class="is-active"><a class="tocitem" href>Output files</a><ul class="internal"><li><a class="tocitem" href="#model-outputs-diagnostics"><span>The <code>diagnostics</code> folder</span></a></li><li><a class="tocitem" href="#The-calibration-folder"><span>The <code>calibration</code> folder</span></a></li><li><a class="tocitem" href="#model-outputs-results"><span>The <code>results</code> folder</span></a></li></ul></li><li><a class="tocitem" href="../prep-model/">Preparing a model</a></li><li><a class="tocitem" href="../pest-calib/">Calibrating with PEST</a></li></ul></li><li><span class="tocitem">Technical details</span><ul><li><a class="tocitem" href="../variables/">Variables</a></li><li><a class="tocitem" href="../lgp/">Linear goal program</a></li><li><a class="tocitem" href="../dynamics/">Dynamics</a></li><li><a class="tocitem" href="../isolate-energy/">Isolating the energy sector</a></li><li><a class="tocitem" href="../process-sut/">Processing the supply-use table</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Using LEAP-Macro</a></li><li class="is-active"><a href>Output files</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Output files</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/sei-international/LEAPMacro.jl/blob/main/docs/src/model-outputs.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="model-outputs"><a class="docs-heading-anchor" href="#model-outputs">Output files</a><a id="model-outputs-1"></a><a class="docs-heading-anchor-permalink" href="#model-outputs" title="Permalink"></a></h1><p>When Macro is run, it generates several output files in the following folders:</p><pre><code class="nohighlight hljs">otuputs 
└───NAME
    └───calibration
    └───[diagnostics]
    └───results</code></pre><p>The <code>NAME</code> of the folder under <code>outputs</code> is specified by the <code>output_folder</code> parameter in the <a href="../config/#config-general-settings">configuration file</a>. The <code>diagnostics</code> folder is only present if the <code>report-diagnostics</code> parameter is set to <code>true</code> in the <a href="../config/#config-output-folders">configuration file</a>.</p><p>Different scenarios can be specified by different configuration files, with different <code>output_folder</code> parameters set. In that case, there will be several folders:</p><pre><code class="nohighlight hljs">otuputs 
└───NAME 1
    └───calibration
    └───[diagnostics]
    └───results
└───NAME 2
    └───calibration
    └───[diagnostics]
    └───results
...</code></pre><p>In addition, Macro writes a log file called <code>LEAPMacro_log_XXXX.txt</code> to the main folder, where <code>XXXX</code> is the <code>output_folder</code> specified in the <a href="../config/#config-general-settings">configuration file</a>. If the model fails, then the error message will be written to the log file.</p><div class="admonition is-info"><header class="admonition-header">Naming convention when Macro is run with energy sectors included</header><div class="admonition-body"><p>The Macro model is meant to be run together with LEAP, as explained in the page on the <a href="../leap-macro-link/#leap-macro-link">LEAP-Macro link</a>. LEAP calculates demand for energy and energy production, while Macro covers the rest of the economy – the energy sectors specified in the <a href="../config/#config-sut">configuration file</a> are excluded from Macro&#39;s calculations. However, for calibration it can be useful to run Macro separately from LEAP, with the energy sectors included. This is done by setting <code>include_energy_sectors = true</code> when calling the <code>LEAPMacro.run()</code> function (see <a href="../running-macro/#running-macro">Running the Macro model</a> for details.)</p><p>When Macro is run with energy sectors included, the output folder is named <code>XXXX_full</code>, where <code>XXXX</code> is the <code>output_folder</code> specified in the <a href="../config/#config-general-settings">configuration file</a>.</p></div></div><h2 id="model-outputs-diagnostics"><a class="docs-heading-anchor" href="#model-outputs-diagnostics">The <code>diagnostics</code> folder</a><a id="model-outputs-diagnostics-1"></a><a class="docs-heading-anchor-permalink" href="#model-outputs-diagnostics" title="Permalink"></a></h2><p>When the <code>report-diagnostics</code> parameter is set to <code>true</code>, a variety of diagnostic outputs are reported.</p><p>One crucial diagnostic indicator, which is motivated in <a href="../isolate-energy/#isolate-energy">Isolating the energy sector</a> is given in the file <code>nonenergy_energy_link_measure.txt</code>. It contains a message like the following:</p><pre><code class="nohighlight hljs">Measure of the significance to the economy of the supply of non-energy goods and services to the energy sector:
This value should be small: 2.52%.</code></pre><p>Whether the estimated parameter is sufficiently small or not depends on the purposes of the analysis. For the Freedonia sample model, it suggests that excluding the demand by the energy sector of non-energy goods and services could lead to a 2.52% discrepancy.</p><p>An additional set of files with names such as <code>model_0_2010.txt</code> provide an export of the <a href="../lgp/#lgp">linear goal program</a> prepared by the Macro model. Examining these files can sometimes be helpful when the log file indicates an error in JuMP (the Julia mathematical programming library). The file offers an explicit formulation of the model, with the calculated parameters:</p><pre><code class="nohighlight hljs">Min 1.7333333333333334 ugap[1] + 0.5333333333333333 ugap[2] + 0.6000000000000001 ugap[3] + ...
Subject to
 eq_util[1] : ugap[1] + u[1] == 1.0
 eq_util[2] : ugap[2] + u[2] == 1.0
 eq_util[3] : ugap[3] + u[3] == 1.0
 eq_util[4] : ugap[4] + u[4] == 1.0
...</code></pre><p>Some of the files provide &quot;sanity checks&quot; on the input data. </p><ul><li><code>demand_coefficients.csv</code>: These should sum to a total less than one down the columns</li><li><code>[energy_share.csv]</code>: If present, these should be less than one (only reported if energy sectors are excluded)</li><li><code>imported_fraction.csv</code>: These should be less than one</li><li><code>profit_margins.csv</code>: These should be greater than 1 but (usually) less than 2</li><li><code>supply_fractions.csv</code>: These should sum to one along columns (unless the product is not produced domestically, in which case the sum will be zero)</li></ul><p>Other files report figures that should be close to, although not necessarily identical to, the corresponding values in the supply-use table. The differences arise because Macro compensates for territorial adjustments or stock changes:</p><ul><li><code>domestic_production.csv</code></li><li><code>exports.csv</code></li><li><code>final_demand.csv</code></li><li><code>imports.csv</code></li><li><code>investment.csv</code></li><li><code>margins.csv</code></li><li><code>sector_output.csv</code></li><li><code>tot_intermediate_demand_all_products.csv</code></li><li><code>tot_intermediate_supply_all_sectors.csv</code></li><li><code>tot_intermediate_supply_non-energy_sectors.csv</code>: Note that these values will be lower than in the supply-use table due to the excluded energy sectors</li><li><code>wages.csv</code></li></ul><p>If intermediate demand coefficients are <a href="../config/#config-intermed-dmd-change">calculated endogenously</a>, then a further set of files will be reported containing tables of intermediate demand coefficients for each year of the simulation:</p><ul><li><code>demand_coefficients_[year].csv</code></li></ul><h2 id="The-calibration-folder"><a class="docs-heading-anchor" href="#The-calibration-folder">The <code>calibration</code> folder</a><a id="The-calibration-folder-1"></a><a class="docs-heading-anchor-permalink" href="#The-calibration-folder" title="Permalink"></a></h2><p>The files in this folder are generated after further adjustments and a calibration run of the <a href="../lgp/#lgp">linear goal program</a>. Some of these files can also be used as a &quot;sanity check&quot;, including:</p><ul><li><code>basic_prices_0.csv</code>: These should be close to 1</li><li><code>capacity_utilization_0.csv</code>: These should be less than or equal to 1, and most should be close to 1</li><li><code>capital_output_ratio_0.csv</code>: These should normally lie between 1 and 4, but may be outside that range</li><li><code>margins_neg_0.csv</code> and <code>margins_pos_0.csv</code>: These should sum to the same total</li><li><code>wage_share_0.csv</code>: These should be less than 1</li></ul><p>Others of the files in the <code>calibration</code> folder have names similar to the <code>diagnostics</code> folder. The values may be noticeably different due to the adjustments carried out by the Macro model:</p><ul><li><code>domestic_production_0.csv</code></li><li><code>exports_0.csv</code></li><li><code>final_demand_0.csv</code></li><li><code>imports_0.csv</code></li><li><code>sector_output_0.csv</code></li><li><code>tot_intermediate_supply_non-energy_sectors_0.csv</code></li></ul><h2 id="model-outputs-results"><a class="docs-heading-anchor" href="#model-outputs-results">The <code>results</code> folder</a><a id="model-outputs-results-1"></a><a class="docs-heading-anchor-permalink" href="#model-outputs-results" title="Permalink"></a></h2><p>The <code>results</code> folder contains the simulation results from the model. Once the model is fully developed, calibrated, and running in practice, this is the most interesting folder to look at.</p><p>When running with LEAP, the Macro model may be run several times to converge on a consistent set of results. The results folder contains outputs from each of the runs: <img src="../assets/images/results_folder_files.png" alt="Results folder contents"/></p><div class="admonition is-warning"><header class="admonition-header">Results cover only non-energy sectors</header><div class="admonition-body"><p>By default, the Macro model reports results only for non-energy sectors. To include all sectors, set the option <code>include_energy_sectors = true</code> when <a href="../running-macro/#running-macro">running the Macro model</a>. </p></div></div><p>Two of the results files (with the run number indicated by <code>#</code>) contain multiple variables:</p><ul><li><code>indices_#.csv</code>: The indices that are passed to LEAP, as specified in the <a href="../config/#config-indices-for-LEAP-Macro-link">configuration file</a> (if no indices are defined, then this file will not be written)</li><li><code>collected_variables_#.csv</code>: A set of key variables, such as net exports, GDP, and so on</li></ul><p>Macro is a <a href="../theoretical-background/#theoretical-background">demand-driven model</a>, so economic growth is driven by final demand, exports net of imports, and investment. Total investment expenditure is reported in <code>collected_variables_#.csv</code>. Final demand, exports, and imports are reported by product:</p><ul><li><code>final_demand_#.csv</code></li><li><code>exports_#.csv</code> and <code>imports_#.csv</code></li></ul><p>Output by sector is reported as actual output and potential output (that is, output at full capacity utilization). The ratio of actual to potential output is capacity utilization, which is reported separately:</p><ul><li><code>sector_output_#.csv</code></li><li><code>potential_sector_output_#.csv</code></li><li><code>capacity_utilization_#.csv</code></li></ul><p>Real value added by sector – that is, sector output less the cost of intermediate goods and services – is also reported:</p><ul><li><code>real_value_added_#.csv</code></li></ul><p>A further sector indicator, <a href="../dynamics/#dynamics-dom-insert">domestic insertion</a>, is a measure of direct and indirect demand for domestic products by sector:</p><ul><li><code>domestic_insertion.csv</code></li></ul><p>Investment rates are determined by the autonomous investment rate, the profit rate, capacity utilization, and the interest rate. The autonomous investment rate is an expectation of future growth, which gradually adjusts over time in response to realized growth (that is, <a href="../dynamics/#dynamics-potential-output">the model features &quot;adaptive expectations&quot;</a>). The interest rate is reported in <code>collected_variables_#.csv</code>, while the capacity utilization file was listed above. The other relevant files are:</p><ul><li><code>profit_rate_#.csv</code></li><li><code>autonomous_investment_rate_#.csv</code></li></ul><p>In Macro, world prices of tradeable goods and services are exogenous, so they are not reported. Domestic prices are <a href="../dynamics/#dynamics-prices">calculated endogenously by applying a markup</a>. &quot;Basic&quot; prices of goods and services are calculated as a trade-weighted average of the world and domestic price. Domestic and basic prices are reported in the files:</p><ul><li><code>domestic_prices_#.csv</code></li><li><code>basic_prices_#.csv</code></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../running-macro/">« Running the Macro model</a><a class="docs-footer-nextpage" href="../prep-model/">Preparing a model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Friday 1 September 2023 14:17">Friday 1 September 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
